H.util.eval("function U(a,b,c,d,e,f){if(a&&b)this.Se(a),this.$c(b),this.Zb(c),this.di(e),this.ai(f),this.jg(d);else throw Error('Parameters \"scheme\" and \"host\" must be specified');}r(\"H.service.Url\",U);\nfunction jj(a,b){var c=a,d=document,e,f,g,h,k=d.createElement(\"a\");b&&(f=(e=d.getElementsByTagName(\"base\")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement(\"base\")),h.href=b);k.href=c;c=k.href;b&&(e?e.href=f:g.removeChild(h));c=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(c);e=c[1];k=c[4];f=c[5];d=c[6];g=c[7];h=c[8];!c[2]&&k&&/@/.test(k)&&(k=k.split(\"@\")[1]);var c=k,d=d&&0<d.length?d.substr(1):\"\",k={},l,n;if(g)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;n=\nl.exec(g);)k[decodeURIComponent(n[2])]=n[4]?decodeURIComponent(n[4]):void 0;return new U(e,c,d,k,isNaN(+f)?void 0:+f,h&&0<h.length?h.substr(1):\"\")}U.parse=jj;var kj=0;U.prototype.i=function(){kj++;return new U(this.Pe,this.jc,this.A,this.Ig(),this.Vc,this.qa)};U.prototype.clone=U.prototype.i;U.prototype.Se=function(a){if(!a||\"string\"!==typeof a)throw Error('The \"scheme\" parameter must be a non-empty string.');this.Pe=a;return this};U.prototype.setScheme=U.prototype.Se;U.prototype.ym=function(){return this.Pe};\nU.prototype.getScheme=U.prototype.ym;U.prototype.$c=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw Error('The \"host\" parameter is not a valid host name.');this.jc=a;return this};U.prototype.setHost=U.prototype.$c;U.prototype.pm=function(){return this.jc};U.prototype.getHost=U.prototype.pm;U.prototype.Zb=function(a){this.A=a||void 0;return this};U.prototype.setPath=U.prototype.Zb;U.prototype.vm=function(){return this.A};\nU.prototype.getPath=U.prototype.vm;U.prototype.jg=function(a){if(a)if(\"object\"==typeof a)this.D=a;else throw Error('Parameter \"params\" must be an object.');else this.D={};return this};U.prototype.setQuery=U.prototype.jg;U.prototype.pj=function(){return!this.wh()};U.prototype.hasQuery=U.prototype.pj;U.prototype.xm=function(){return this.D};U.prototype.getQuery=U.prototype.xm;\nU.prototype.di=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter \"port\" must be a number or undefined');this.Vc=+a||void 0;return this};U.prototype.setPort=U.prototype.di;U.prototype.wm=function(){return this.Vc};U.prototype.getPort=U.prototype.wm;U.prototype.ai=function(a){this.qa=a||void 0;return this};U.prototype.setAnchor=U.prototype.ai;U.prototype.dh=function(){return this.qa};U.prototype.getAnchor=U.prototype.dh;\nU.prototype.u=function(a){if(\"object\"!==typeof a)throw Error('Parameter \"other\" must be an object.');this.kn(this.D,a);return this};U.prototype.mergeQuery=U.prototype.u;U.prototype.Y=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.$c(a+\".\"+this.jc)};U.prototype.addSubDomain=U.prototype.Y;\nU.prototype.n=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subPath\" must be a non-empty string');return this.Zb((this.A?this.A+\"/\":\"\")+a)};U.prototype.addSubPath=U.prototype.n;U.prototype.toString=function(){return[this.Pe+\"://\",this.jc,this.Vc?\":\"+this.Vc:\"\",this.A||!this.wh()||this.qa?\"/\":\"\",this.A?encodeURI(this.A):\"\",this.bo(),this.qa?\"#\"+encodeURIComponent(this.qa):\"\"].join(\"\")};U.prototype.toString=U.prototype.toString;\nU.prototype.Ig=function(){var a={},b;for(b in this.D)a[b]=this.D[b];return a};U.prototype.cloneQuery_=U.prototype.Ig;U.prototype.kn=function(a,b){for(var c in b)b.hasOwnProperty(c)&&\"function\"!==typeof b[c]&&(a[c]=b[c]);return a};U.prototype.bo=function(){var a=[],b,c=this.D,d;for(b in c)c.hasOwnProperty(b)&&\"function\"!==typeof c[b]&&(d=this.D[b],a.push(encodeURIComponent(b)+(void 0===d?\"\":\"=\"+encodeURIComponent(d))));return 0<a.length?\"?\"+a.join(\"&\"):\"\"};\nU.prototype.wh=function(){var a,b=0;for(a in this.D)if(this.D.hasOwnProperty(a)&&\"function\"!==typeof this.D[a]&&(b++,0<b))break;return!b};function lj(a){function b(b){d.removeChild(e);l&&clearTimeout(l);delete lj.jo[f];b&&a.ae&&a.ae.call(k,b)}if(!a.url||!a.ld)throw Error('Parameter \"options\" must specify at least a URL and a callback.');if(\"function\"!==typeof a.ld)throw Error(\"Parmaters options.callback must be a function\");var c=a.qf||document,d=c.getElementsByTagName(\"head\")[0],e=c.createElement(\"script\"),c=a.url instanceof U?a.url:jj(a.url,a.My),f=lj.Tx++,g=a.ul||\"callback\",h=a.ld,k={},l=null;k.id=f;k.cancel=function(){b(\"cancelled\")};\n0!==a.timeout&&(l=setTimeout(function(){b(\"timeout\")},a.timeout||3E4));lj.jo[f]=function(a){b();h.call(k,a)};e.type=\"text/javascript\";e.src=c.toString()+(c.pj()?\"&\":\"?\")+g+\"=\"+(a.$r?\"H.service.jsonp.handleResponse(\"+f+\")\":encodeURI(\"H.service.jsonp.handleResponse(\"+f+\")\"));d.appendChild(e);return k}r(\"H.service.jsonp\",lj);lj.dw=function(a){return(a=lj.jo[a])?a:function(){}};lj.handleResponse=lj.dw;lj.Tx=0;lj.jo={};function mj(a){a=a||{};this.ac=a.subDomain;this.A=a.path;this.iu=a.callbackKey;this.ra=a.baseUrl}r(\"H.service.AbstractRestService\",mj);mj.prototype.$=function(a,b,c,d,e){this.H=(e||this.ra).i();this.ac&&this.H.Y(this.ac);this.A&&this.H.Zb(this.A);c&&this.H.Se(\"https\");return this};mj.prototype.configure=mj.prototype.$;mj.prototype.s=function(){return this.H};\nfunction nj(a,b,c,d){if(!ja(c))throw Error(\"onResult callback needed\");if(!ja(d))throw Error(\"onError callback needed\");return lj({url:b,ld:function(a){c(a)},ae:function(a){d(Error(\"[\"+a+\"] \"+b+\" request failed\"))},ul:a.iu})};function V(a){a=oj(pj,a);this.As(a.baseUrl);this.so(a.useCIT);this.to(a.useHTTPS);qj(this,a.app_id,a.app_code);this.bt={}}r(\"H.service.Platform\",V);function qj(a,b,c){a.sp=b;a.rp=c;a.ra.u({app_id:b,app_code:c})}V.prototype.$=function(a){if(a.configure)return a.configure(this.sp,this.rp,this.jt,this.it,this.ra);throw Error(\"Object is not configurable\");};V.prototype.configure=V.prototype.$;V.prototype.to=function(a){this.jt=a;this.ra.Se(a?\"https\":\"http\")};V.prototype.setUseHTTPS=V.prototype.to;\nV.prototype.so=function(a){this.it=a;this.ra.$c((a?\"cit.\":\"\")+this.cu)};V.prototype.setUseCIT=V.prototype.so;V.prototype.As=function(a){this.cu=a.jc;this.ra=a=a.i();a.u({xnlp:\"CL_JSMv3.\"+yi().version});this.so(this.it);this.to(this.jt);qj(this,this.sp,this.rp)};V.prototype.setBaseUrl=V.prototype.As;V.prototype.cv=function(){return this.ra};V.prototype.getBaseUrl=V.prototype.cv;var pj={app_id:null,app_code:null,useHTTPS:!1,useCIT:!1,baseUrl:new U(\"http\",\"api.here.com\")};\nr(\"H.service.setOptions\",function(a,b){pj[a]=b});r(\"H.service.getOptions\",function(a){return pj[a]});function oj(a,b){var c={},d;for(d in a)!a.hasOwnProperty(d)||d in c||(c[d]=a[d]),b&&b.hasOwnProperty(d)&&(c[d]=b[d]);return c};function rj(a){a=oj(pj.trafficIncidents,a);a.callbackKey=\"jsoncallback\";rj.a.constructor.call(this,a)}v(rj,mj);r(\"H.service.TrafficIncidentsService\",rj);rj.prototype.Rx=function(a,b,c){a=this.s().i().n(\"incidents.json\").u(a);return nj(this,a,b,c)};rj.prototype.requestIncidents=rj.prototype.Rx;rj.prototype.ms=function(a,b,c,d,e,f){a=this.s().i().n([\"incidents/json\",c,a,b].join(\"/\")).u(f||{});return nj(this,a,d,e)};rj.prototype.requestIncidentsByTile=rj.prototype.ms;\npj.trafficIncidents={subDomain:\"traffic\",path:\"traffic/6.1\"};V.prototype.oq=function(){return this.$(new rj)};V.prototype.getTrafficIncidentsService=V.prototype.oq;function sj(){this.vy={hybrid:this.us,satellite:this.us,terrain:this.pr,normal:this.pr}}function tj(a){var b,c=a.boxes,d,e;this.alt=a.alt;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.qk=[];if(c&&(b=c.length))for(d=c[0],e=new G(d[0],d[1],d[2],d[3]),this.qk.push(e),this.hk=new G(d[0],d[1],d[2],d[3]),a=1;a<b;a++)d=c[a],e=new G(d[0],d[1],d[2],d[3]),this.qk.push(e),this.hk.yd(e,!1,this.hk)}\ntj.prototype.Df=function(a,b){var c;if(a>=this.min&&a<=this.max)if((c=this.qk.length)&&this.hk){if(this.hk.Df(b))for(;c--;)if(this.qk[c].Df(b))return!0}else return!0;return!1};\nvar uj=new tj({label:\"INEGI\",minLevel:9,maxLevel:20,boxes:[[14.4031,-94.2111,16,-91],[32,-117.1817,32.7325,-113.1649],[17.406,-91,18,-88.7349],[28,-101,29.4004,-99.9666],[28,-103,30,-101],[24,-113,26,-97],[26,-99,26.4261,-97.5566],[15.5643,-97.9326,16,-95.2581],[16,-91,16.9491,-90.3434],[18,-107,22,-95],[16,-103,18,-91],[18,-95,20,-87],[28,-119,32,-103],[22,-111,24,-97],[18,-115,20,-109],[26,-117,28,-99]]}),vj=new tj({label:\"NavInfo\",minLevel:6,maxLevel:20,boxes:[[52.7754,119.9835,53.5719,126.1939],\n[35.4169,77.1449,35.7754,78.5576],[17.7754,108.5576,18.7754,110.5576],[47.9285,115.4373,48.223,115.5576],[30.7754,78.5576,36.7754,79.5576],[49.7754,118.4027,50.9802,119.5576],[39.7754,120.5576,40.7754,126.5576],[28.7754,82.5576,29.7754,98.5576],[35.7754,120.5576,38.7754,121.5576],[40.7754,120.5576,42.7754,128.5576],[42.7754,115.5576,49.7754,131.5576],[45.7754,82.363,46.2212,82.5576],[49.7754,127.5576,50.7754,128.5576],[28.2004,96.2409,28.7754,97.5576],[18.7754,108.5576,20.7754,111.5576],[28.6334,\n93.5576,28.7754,94.0161],[25.1912,119.5576,25.7754,119.912],[24.7754,117.5576,25.7754,119.5576],[38.7754,120.5576,39.7754,124.5576],[20.7754,99.5576,21.7754,102.5576],[32.7754,120.5576,33.5701,120.8986],[41.7754,128.5576,42.7754,131.5576],[27.6769,91.7865,27.7754,92.1101],[36.7754,73.5576,40.7754,79.5576],[20.7754,106.5576,22.7754,113.5576],[27.7754,117.5576,29.7754,122.5576],[45.7754,82.5576,47.7754,91.5576],[48.7754,86.6922,49.2494,88.1056],[41.7754,79.2585,41.8535,79.5576],[42.7754,111.5576,45.7754,\n115.5576],[21.7754,113.5576,22.7754,116.5576],[32.2241,78.3965,32.6363,78.5576],[42.7754,94.5576,44.7754,96.5576],[29.7754,120.5576,32.7754,122.5576],[26.7754,117.5576,27.7754,121.5576],[24.5027,118.5576,24.7754,118.8161],[29.7754,122.5576,31.7754,123.5576],[40.7754,76.5576,41.7754,79.5576],[29.7754,79.5576,42.7754,120.5576],[49.7754,119.5576,52.7754,127.5576],[21.7754,98.5576,22.7754,104.5576],[47.7754,85.4858,48.7754,90.1507],[44.8404,131.5576,48.4334,134.8631],[27.7754,84.5576,28.7754,93.5576],\n[25.7754,117.5576,26.7754,120.5576],[36.7754,121.5576,37.7754,123.5576],[27.2614,88.7706,27.7754,89.2653],[23.7754,97.5576,28.7754,98.5576],[35.7754,75.5576,36.7754,78.5576],[23.7754,117.5576,24.7754,118.5576],[22.7754,98.5576,29.7754,117.5576],[42.7754,79.5576,45.7754,94.5576]]});sj.prototype.pr=[uj,vj];sj.prototype.us=[new tj({label:\"DigitalGlobe\",minLevel:0,maxLevel:20,boxes:[[90,-180,-90,180]]}),uj,vj];function wj(a){var b=0,c,d,e=a.length;if(0===e)return b;for(c=0;c<e;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b|=0;return b}var xj=Function(\"return this\")();function yj(a,b){function c(){k=ta();Kc.font=g;h=Math.round(Kc.measureText(\"BESbswyMi\").width);-1===e.indexOf(h)?b():3E5<k-d?b(\"timeout\"):(l=50*++f,xj.setTimeout(c,Math.min(l,d+3E5-k)))}var d=ta(),e=zj(),f=0,g=\"30px \"+a+\",\"+Aj.join(\",\"),h,k,l;-1!==Aj.indexOf(a)?b():xj.setTimeout(c,50)}\nfunction Bj(a,b){function c(a){a?b(a):0===--d&&b()}var d=a.length;a.forEach(function(a){yj(a,c)})}var Aj=La(\"monospace serif\");function zj(){var a=[];Aj.forEach(function(b){Kc.font=\"30px \"+b;a.push(Math.round(Kc.measureText(\"BESbswyMi\").width))});return a}function Cj(a,b){var c=b||document,d=c.createElement(\"style\"),e;d.appendChild(c.createTextNode(\"\"));c.head.appendChild(d);e=d.sheet;a.forEach(function(a,b){e.insertRule(a,b)});return d}function Dj(){}\nDj.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||xj.document.createElement(\"canvas\")};Dj.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Ej=new Dj;function Fj(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.s().i().n(b+\"/\"+a.xa+\"/\"+c).u(f),l=a.Ua;this.service_=a;this.tileBaseUrl_=k;eb.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(a,b,c){var f=h.tileBaseUrl_.i();l&&f.Y(l[(c+b+a)%l.length]);f.n(c+\"/\"+a+\"/\"+b+\"/\"+d+\"/\"+e);return f.toString()},crossOrigin:g.crossOrigin,uri:k.toString().replace(/_/g,\"\")+d});this.tileType_=b;this.scheme_=c;this.params_=f;this.copyrightKey_=c.split(\".\")[0];this.updateAndReload_=w(this.updateAndReload_,\nthis);this.getCopyrights=this.ta;this.ju=xb();a.addEventListener(\"versionupdate\",this.updateAndReload_)}v(Fj,eb);Fj.prototype.MAX_STORE_TIME=2592E6;Fj.prototype.c=function(){eb.prototype.c.call(this);this.service_.removeEventListener(\"versionupdate\",this.updateAndReload_)};Fj.prototype.ta=function(a,b){var c=this.service_.ta().vy[this.copyrightKey_],d,e=c?c.length:0,f=[];for(d=0;d<e;d++)c[d].Df(b,a)&&f.push(c[d]);return f};\nFj.prototype.updateAndReload_=function(){var a=this.service_;this.tileBaseUrl_=a.s().i().n(this.tileType_+\"/\"+a.xa+\"/\"+this.scheme_).u(this.params_);this.reload(!1)};Fj.prototype.Eg=function(){return this.ju};r(\"H.service.MapTileProvider.prototype.canStore\",Fj.prototype.Eg);Fj.prototype.yf=function(){return this.Eg()?vb():Q.prototype.yf.call(this)};r(\"H.service.MapTileProvider.prototype.getStorage\",Fj.prototype.yf);function Gj(a){a=oj(pj.maptile,a);zb.call(this);this.ra=a.baseUrl;this.A=a.path;this.ac=a.subDomain;this.Ua=a.shards;this.oa=(this.Km=!!a.ignoreTypes)?null:a.type;this.xa=a.version;this.El=new sj;this.fs={}}v(Gj,E);r(\"H.service.MapTileService\",Gj);function Hj(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}\nGj.prototype.$=function(a,b,c,d,e){this.H=(this.ra||e).i();this.ac&&this.H.Y(this.ac);this.oa&&this.H.Y(this.oa);this.A&&this.H.Zb(this.A);\"newest\"===this.xa&&this.$l();return this};Gj.prototype.configure=Gj.prototype.$;Gj.prototype.s=function(){return this.H};Gj.prototype.pq=function(){return this.oa};Gj.prototype.getType=Gj.prototype.pq;Gj.prototype.Am=function(){return this.xa};Gj.prototype.getVersion=Gj.prototype.Am;Gj.prototype.uo=function(a){this.xa=a};Gj.prototype.ta=function(){return this.El};\nGj.prototype.getCopyrights=Gj.prototype.ta;Gj.prototype.Ko=function(a){a=a.response;var b;Hj(a,\"map\");Hj(a,\"scheme\");Hj(a,\"tiletype\");Hj(a,\"format\");Hj(a,\"resolution\");Hj(a,\"language\");if(\"newest\"===this.xa&&\"traffic\"!==this.oa)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.uo(a.maps[b].hash),this.dispatchEvent(\"versionupdate\"));this.Nm=a;this.dispatchEvent(\"infoupdate\")};\nGj.prototype.$l=function(){var a=this,b=this.s().i().n(\"info\").u({output:\"json\"});this.Ua&&b.Y(this.Ua[0]);lj({url:b,ul:\"callback_func\",ld:function(b){a.Ko(JSON.parse(b.replace(/,\\s?\\]/g,\"]\")))},ae:function(a){throw Error(\"[\"+a+\"]: Could not fetch meta-info from map tile service @\"+b.toString());},$r:!0})};Gj.prototype.rm=function(){return this.Nm};Gj.prototype.getInfo=Gj.prototype.rm;\nGj.prototype.Rg=function(a,b,c,d,e,f){var g;g=wj(this.s().i().n(a+\"/\"+this.xa+\"/\"+b+\"/\"+c+\"/\"+d).u(e?e:{}).toString());var h=this.fs[g];h||(h=new Fj(this,a,b,c,d,e,f),this.fs[g]=h);return h};Gj.prototype.createTileProvider=Gj.prototype.Rg;Gj.prototype.o=function(a,b,c,d,e,f,g,h){a=this.Rg(a,b,c,d,e,h);return new Xh(a,{opacity:f,dark:!!g})};Gj.prototype.createTileLayer=Gj.prototype.o;pj.maptile={type:\"base\",version:\"newest\",subDomain:\"maps\",path:\"maptile/2.1\",shards:[\"1\",\"2\",\"3\",\"4\"]};\nV.prototype.nh=function(a){var b;b=oj(pj.maptile,a);var c;c=\"\"+(b.ignoreTypes?\"\":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(\"\"):\"\";b=wj(c);c=this.bt[b];c||(c=this.$(new Gj(a)),this.bt[b]=c);return c};V.prototype.getMapTileService=V.prototype.nh;function Ij(a){this.ku=a;this.Mb=this.ih(\"general\",\"default\")||Jj;this.gf=new O(200)}Ij.prototype.qe=function(a,b){for(var c,d,e,f,g=1;g<arguments.length;g++)for(c in d=arguments[g],d)if(d.hasOwnProperty(c))for(e in a[c]||(a[c]={}),f=d[c],f)f.hasOwnProperty(e)&&void 0!==f[e]&&(a[c][e]=f[e]);return a};Ij.prototype.La=function(a,b){var c=this.ih(\"spaceToGroup\",b);return Kj(this,a,c?c+\"\":void 0)};\nfunction Kj(a,b,c){var d,e,f;f=(b?b+\"_\":\"\")+(c?c:\"default\");d=a.Mb;(e=a.gf.get(f))?d=e:(b&&c?(d=Kj(a,b,void 0),e=Kj(a,void 0,c),b=a.ih(\"venues\",b,\"groups\",c),d=a.qe({},a.Mb,d,e,b)):b&&!c?d=a.qe({},a.Mb,a.ih(\"venues\",b,\"default\")):!b&&c&&(d=a.qe({},a.Mb,a.ih(\"general\",\"groups\",c))),a.gf.add(f,d,1));return d}Ij.prototype.ih=function(a){for(var b=this.ku,c=arguments,d=c.length,e=0;e!==d;)if(b=b[c[e++]],!b)return;return b};\nvar Jj={space:{fillColor:\"rgba(198, 175, 255, .7)\",strokeColor:\"rgb(162, 141, 216)\",lineWidth:0.5},spaceLabel:{fillColor:\"rgb(78,66,111)\"},floor:{fillColor:\"rgba(249, 244, 253, .7)\",strokeColor:\"rgba(255, 255, 255, .7)\",lineWidth:1}};function Lj(a,b,c,d,e,f,g,h){this.rl=[];this.Cj={};P.call(this,a,b,c,d,e,f,g,h)}v(Lj,P);Lj.prototype.im=function(){return this.rl};function Mj(){}Mj.prototype.Oe=function(){};r(\"H.service.remote.IObject.prototype.retain\",Mj.prototype.Oe);Mj.prototype.He=function(){};r(\"H.service.remote.IObject.prototype.release\",Mj.prototype.He);function Nj(a,b){var c={};this.Sr=a;ya(c,b||c);qh.call(this,c);this.Ie={};Oj(this)}v(Nj,qh);r(\"H.service.remote.ObjectProvider\",Nj);Nj.prototype.e=function(){qh.prototype.e.call(this)};function Oj(a){a=a.Xa(le.SPATIAL);a.update(a.Bc+1,ie.ADD)}var Pj=[];Nj.prototype.Cb=function(){return Pj};Nj.prototype.requestMarkers=Nj.prototype.Cb;Nj.prototype.Bb=function(){return Pj};Nj.prototype.requestDomMarkers=Nj.prototype.Bb;Nj.prototype.Fe=function(){return!0};Nj.prototype.providesSpatials=Nj.prototype.Fe;\nNj.prototype.Me=function(){return Pj};Nj.prototype.requestSpatials=Nj.prototype.Me;Nj.prototype.vc=function(a){var b=a.Qo,c;!b&&(c=a.Po)&&(delete a.Po,c=this.Sr.parse(this,a,c))&&(b=a.Qo=c.spatials);return b||Pj};Nj.prototype.requestSpatialsByTile=Nj.prototype.vc;Nj.prototype.k=function(a){var b=a.W();if(this.Ie[b])throw\"Remote object \"+b+\" allready added\";return this.Ie[b]=a};Nj.prototype.P=function(a){delete this.Ie[a.W()]};function Qj(a,b,c){Nj.call(this,b,c);this.fa=a;this.responseQueue_=[];Rj(this.fa)||(this.Zj=w(this.Zj,this),this.fa.addEventListener(\"statechange\",this.Zj));this.Ua=a.Ua;this.Yi=0;this.Rn={onSpaceCreated:c&&c.onSpaceCreated,floorLevel:0,styler:null};this.requestSpatialsByTile=w(this.vc,this)}v(Qj,Nj);Qj.prototype.gx=function(a,b,c,d){this.ko?this.Rr.apply(this,arguments):d||this.responseQueue_.push({ly:a,response:c,Qu:b});d&&(a.Cj[b]=!0)};function Sj(a){return a.getVisibility(!0)}\nQj.prototype.vc=function(a,b,c){var d;this.ps||Tj(this);d=a.Ob();b&&(d=d.filter(Sj));if(!c){b=this.Yi;var e,f,g,h;if(!a.Cj[b]&&Rj(this.fa)){e=this.fa.s();c=a.x;f=a.y;h=g=a.z;for(var k=1,l;h--;)l=1<<h,k*=4,k+=(c&l&&1)|(f&l&&2);h=k.toString(4).substr(1);e=e.i().n(\"0/tiles-ia\").n(\"L\"+b).n(h+\".json\");this.Ua&&e.Y(this.Ua[(c+f+g)%this.Ua.length]);new Tc(\"text/plain\",e.toString(),w(this.gx,this,a,b));a.Cj[b]=!0}a.Cj[this.Yi]=!0}a.ug&&(d=d.concat(a.ug),delete a.ug);return d};\nr(\"H.service.venues.ObjectProvider.prototype.requestSpatialsByTile\",Qj.prototype.vc);m=Qj.prototype;m.hg=function(a){var b,c,d;for(b in this.Ie)for(c in d=this.Ie[b].im(),d)d[c].hg(a);Oj(this);this.Ia();this.Yi=a};m.uf=function(){return this.Yi};m.Rr=function(a,b,c,d){if(!d&&(this.Rn.floorLevel=b,b=(b=this.Sr.parse(this,a,c,this.Rn))&&b.spatials))for(a.ug=a.ug?a.ug.concat(b):b,a=b.length;a--;)b[a].ca(ie.ADD)};m.Zj=function(){Rj(this.fa)&&(Uj(this),this.fa.removeEventListener(\"statechange\",Qj.prototype.Zj))};\nfunction Uj(a){Rj(a.fa)&&a.ko&&a.dispatchEvent(\"reload\")}function Tj(a){a.ps=!0;Vj(a,function(b,c){c?a.dispatchEvent(\"error\"):(a.Rn.styler=b,Wj(a,w(a.ex,a)))})}m.ex=function(a){a?this.dispatchEvent(\"error\"):(this.responseQueue_.forEach(function(a){this.Rr(a.ly,a.Qu,a.response)},this),this.responseQueue_=null,this.ko=!0,Uj(this))};m.ps=!1;m.ko=!1;function Vj(a,b){new Tc(\"application/json\",a.fa.Ps.i().n(\"styles/styles.json\").toString(),function(a,d){b(d?null:new Ij(a),d)})}var Xj=0;\nfunction Wj(a,b){var c=a.fa.Ps.i().n(\"fonts\"),d=document,e=[],f,g=[];2===Xj?b():(Yj.forEach(function(a){g.push(\"nokiapuretext{name}_rg-webfont\".replace(\"{name}\",a))}),1!==Xj&&(Yj.forEach(function(a,b){f=c.i().n(g[b]);e.push('@font-face {font-family: \"nokiapuretext{name}_rg-webfont\";src: url(\"{url}.woff2\") format(\"woff2\"),url(\"{url}.woff\") format(\"woff\"),url(\"{url}.ttf\") format(\"truetype\");font-weight: normal;font-style: normal;}'.replace(/\\{name\\}/g,a).replace(/\\{url\\}/g,f.toString()))}),a.Yp=Cj(e,\nd),Xj=1),Bj(g,function(c){Xj=c?0:2;c&&a.Yp&&Jc(a.Yp);b(c)}))}var Yj=La(\"inn2 dflt in insl as me\");function Zj(a,b,c,d){M.call(this,ak(a));this.Li=c;this.Ki=d;this.floorsByLevel_={};this.uid=b;this.Wd=0}v(Zj,M);r(\"H.service.venues.Building\",Zj);Zj.prototype.W=function(){return this.uid};Zj.prototype.getId=Zj.prototype.W;Zj.prototype.Yv=function(){return this.ka};Zj.prototype.getVenue=Zj.prototype.Yv;Zj.prototype.Cv=function(){return this.Li};Zj.prototype.getMinLevel=Zj.prototype.Cv;Zj.prototype.um=function(){return this.Ki};Zj.prototype.getMaxLevel=Zj.prototype.um;Zj.prototype.uf=function(){return this.Wd};\nZj.prototype.getCurrentLevel=Zj.prototype.uf;Zj.prototype.hg=function(a){var b,c,d;if(!isNaN(a)&&(b=this.Li,c=this.Ki,a!==this.Wd))for(this.Wd=a;b<=c;b++)(d=this.floorsByLevel_[b])&&d.setVisibility(b===a);return this.Wd};Zj.prototype.kh=function(a){return this.floorsByLevel_[a]};Zj.prototype.getFloor=Zj.prototype.kh;Zj.prototype.Zt=function(a,b){this.Li=Math.min(this.Li,a);this.Ki=Math.max(this.Ki,b)};Zj.prototype.adjustMinMaxLevels=Zj.prototype.Zt;function bk(a,b){M.call(this,ak(a));this.Mi={};this.Jo=b;a.k(this)}v(bk,M);r(\"H.service.venues.Venue\",bk);bk.prototype.fh=function(a){return this.Mi[a]};bk.prototype.getBuilding=bk.prototype.fh;bk.prototype.im=function(){return this.Mi};bk.prototype.getBuildings=bk.prototype.im;bk.prototype.addBuilding=function(a){this.Mi[a.W()]=a;this.k(a)};bk.prototype.W=function(){return this.Jo};bk.prototype.getId=bk.prototype.W;function ck(a,b,c,d){d=d||dk;this.Xc={};d.provider=a;we.call(this,b,d);c&&(this.Jo=c)}v(ck,we);r(\"H.service.remote.Spatial\",ck);var dk={};ck.prototype.W=function(){return this.Jo||we.prototype.W.call(this)};ck.prototype.getId=ck.prototype.W;ck.prototype.Oe=Function();ck.prototype.retain=ck.prototype.Oe;ck.prototype.He=Function();ck.prototype.release=ck.prototype.He;function ek(a,b,c){this.ej=a;c&&(this.labels=c);0<=b&&(this.zq=b)}ek.prototype.zq=-1;var fk=new ek([]);\nck.prototype.ee=function(a){return(this.Xc[a.key]||fk).ej};ck.prototype.getGeometry=ck.prototype.ee;ck.prototype.tm=function(a){return(this.Xc[a.key]||fk).labels};ck.prototype.getLabels=ck.prototype.tm;ck.prototype.qm=function(a){return(this.Xc[a.key]||fk).zq};ck.prototype.getHybridIdx=ck.prototype.qm;function gk(a,b,c,d){ck.call(this,a,!0,b);d&&(this.isFloorSpace_=d);this.setData(c)}v(gk,ck);r(\"H.service.venues.Space\",gk);gk.prototype.isFloorSpace_=!1;gk.prototype.qw=function(){return this.isFloorSpace_};gk.prototype.isFloorSpace=gk.prototype.qw;gk.prototype.hw=function(a){a&&(this.iw=new pe(a))};gk.prototype.initLabelStyle=gk.prototype.hw;gk.prototype.kh=function(){var a=this.ka;return this.isFloorSpace_?a:a&&a.ka};gk.prototype.getFloor=gk.prototype.kh;gk.prototype.referenceCounter_=0;\ngk.prototype.Oe=function(){++this.referenceCounter_};gk.prototype.retain=gk.prototype.Oe;gk.prototype.He=function(){var a=--this.referenceCounter_,b;a||(b=this.kh(),this.isFloorSpace_?b.floorSpace_&&(b.P(b.floorSpace_),b.floorSpace_=null,b.Ri()):(delete b.xo[this.W()],b.floorSpaces.P(this),b.Ri()));return 1>a};gk.prototype.release=gk.prototype.He;function hk(){}hk.prototype.parse=function(){};r(\"H.service.remote.IParser.prototype.parse\",hk.prototype.parse);function ik(a,b,c){M.call(this,ak(a));this.Ru=c;this.floorSpace_=new gk(a,b.id,b,!0);this.k(this.floorSpace_);this.floorSpaces=new M(ak(a));this.k(this.floorSpaces);this.xo={}}v(ik,M);r(\"H.service.venues.Floor\",ik);ik.prototype.mh=function(){return this.Ru};ik.prototype.getLevel=ik.prototype.mh;ik.prototype.om=function(){return this.floorSpace_};ik.prototype.getFloorSpace=ik.prototype.om;ik.prototype.Rv=function(){return this.floorSpaces};ik.prototype.getSpaces=ik.prototype.Rv;\nik.prototype.fh=function(){return this.ka};ik.prototype.getBuilding=ik.prototype.fh;ik.prototype.getData=function(){return this.floorSpace_&&this.floorSpace_.getData()};ik.prototype.getData=ik.prototype.getData;ik.prototype.setData=function(a){this.floorSpace_.setData(a);return this};ik.prototype.setData=ik.prototype.setData;ik.prototype.mq=function(a){return this.xo[a]};ik.prototype.getSpace=ik.prototype.mq;\nik.prototype.Ri=function(){if(!this.floorSpaces.Dc&&!this.floorSpace_){var a=this.fh(),b=this.mh();b===a.Wd&&(a.Wd=0);delete a.floorsByLevel_[b];a.P(this);a.Dc||(b=a.ka,delete b.Mi[a.W()],b.P(a),b.Dc||b.Pa().P(b))}};function jk(){}var kk;jk.prototype.Pt=Math.PI/180;function lk(a,b){return a&&a.category&&a.category[b||\"id\"]}function mk(a){var b,c;return a.sort(function(a,e){b=a.object.type;c=e.object.type;return b>c?-1:b<c?1:0})}\njk.prototype.parse=function(a,b,c,d){var e=d.floorLevel,f=d.onSpaceCreated;d=d.styler;var g=[],h,k,l,n,p,q,s,t,u,C={};kk=!1;c=c.replace(/''( )?/g,'$1\\\\\"');try{c=xj.JSON.parse(c)}catch(R){kk=!0}if(c.length)for(c=mk(c),h=c.length;h--;){k=c[h];l=k.area;q=l.length;s=p=u=void 0;(p=0<q)||(kk=!0,p=void 0);if(p)for(u=Array(q/2);q;)s=l[--q],p=l[--q],u[q/2]=new F(p,s);l=u?[u]:[];k=k.object;t=null;if(1!==k.type)switch(k.type.replace(\"/polygon\",\"\")){case \"floor\":p=q=k.buildingId;(u=a.Ie[p])||(u=new bk(a,p),u.G(a));\ns=k.buildingMinLevel;t=k.buildingMaxLevel;(p=u.fh(q))?p.adjustMinMaxLevels(s,t):(p=new Zj(a,q,s,t),u.addBuilding(p),p.hg(a.uf()));0>b.rl.indexOf(p)&&b.rl.push(p);(u=p.kh(e))?(q=u.om(),l=q.ee(b).concat(l)):(u=new ik(a,k,e),q=p,p=u,s=p.mh(),p.setVisibility(s===q.Wd),q.floorsByLevel_[s]=p,q.k(p),q=u.om(),f&&f(q),p=lk(u.getData(),\"profileKey\"),t=d.La(p,void 0),q.Dk(t.floor));C[k.id]=u;0>g.indexOf(q)&&g.push(q);q.Xc[b.key]=new ek(l,-1,void 0);break;case \"space\":if(n=k.id,u=C[/_d$/.test(k.outerAreaId)?\nk.outerAreaId:k.outerAreaId+\"_d\"])q=u.mq(n),p=lk(u.getData(),\"profileKey\"),s=lk(q?q.getData():k),q||(t=q=new gk(a,n,k),u.xo[t.W()]=t,u.floorSpaces.k(t),t=d.La(p,s),q.Dk(t.space),f&&f(q)),q.Oe(),(k=k.label)&&k.firstLinePos?(t=t||d.La(p,s),u=q.iw,k=[{lines:La(k.text,\"\\n\"),angle:k.rotation*this.Pt,font:k.font.face,size:k.font.size,lineHeight:k.font.lineHeight,color:u&&u.fillColor||t.spaceLabel.fillColor,x:k.firstLinePos[0],y:k.firstLinePos[1]}]):k=null,g.push(q),q.Xc[b.key]=new ek(l,-1,k)}}else kk=!0;\nreturn kk?void 0:{spatials:g}};r(\"H.service.venues.Parser.prototype.parse\",jk.prototype.parse);function nk(a,b){var c=b||{};if(!(a&&a instanceof ok))throw Error(\"InvalidArgument: service required\");this.Do=c.tileCacheSize||256;this.ob=w(this.ob,this);this.objectProvider_=new Qj(a,new jk,{min:this.fp,max:this.dp,onSpaceCreated:c.onSpaceCreated});this.objectProvider_.G(this);this.Vb=w(this.Vb,this);this.objectProvider_.addEventListener(\"update\",this.Vb);this.Gn=w(this.Gn,this);this.objectProvider_.addEventListener(\"reload\",this.Gn);this.Fn=w(this.Fn,this);this.objectProvider_.addEventListener(\"error\",\nthis.Fn);this.Ea=c.pixelRatio||c.pixelratio||1;this.tileSize=256;this.vi=Ch(this.tileSize,this.Ea);this.gf=new O(this.Do,this.ob);this.getCache=this.Nb;Q.call(this,{min:this.fp,max:this.dp})}v(nk,Q);r(\"H.service.venues.TileProvider\",nk);m=nk.prototype;m.fp=16;m.Ea=1;m.dp=20;m.Vb=function(){this.dispatchEvent(\"update\")};m.Fn=function(){this.dispatchEvent(\"error\")};m.Gn=function(){this.reload(!0)};\nm.ob=function(a,b){var c,d,e;c=b.Ob();for(e=c.length;e--;)d=c[e],delete d.Xc[b.key],d.He();b.data&&Ej.push(b.rk(),this.tileSize);b.sk()};m.hg=function(a){this.objectProvider_.hg(a)};nk.prototype.setCurrentLevel=nk.prototype.hg;nk.prototype.uf=function(){return this.objectProvider_.uf()};nk.prototype.getCurrentLevel=nk.prototype.uf;nk.prototype.Nb=function(){return this.gf};\nnk.prototype.uc=function(a,b,c,d){var e;this.Nb().get(this.getTileKey(a,b,c))?d(null,null):e=xj.setTimeout(function(){d(null,null)},500);return{cancel:function(){xj.clearTimeout(e)}}};nk.prototype.requestInternal=nk.prototype.uc;nk.prototype.mf=function(a,b,c){var d=Ej.pop(this.tileSize),e=this.Nb().get(this.getTileKey(a,b,c));e||(e=new Lj(this.sh(a,b,c),a,b,c,this.tileSize,this.Ea,c+this.vi,this.objectProvider_));e.F(d)||Ej.push(d,this.tileSize);return e};nk.prototype.createTileInternal=nk.prototype.mf;function ok(a){var b=pj.venues;a=oj(b,a||{});zb.call(this);this.ra=b.baseUrl;this.A=a.path;this.ac=a.subDomain;this.Ua=b.shards}v(ok,E);r(\"H.service.venues.Service\",ok);var pk={ERROR:-1,INIT:0,READY:1};ok.State=pk;\nok.prototype.$=function(a,b,c,d,e){this.H=(this.ra||e).i();this.Ps=this.H.i().Y(\"js\").n(\"statics/venues\").jg();this.ac&&this.H.Y(this.ac);this.oa&&this.H.Y(this.oa);this.A&&this.H.Zb(this.A);a=pj.venueSignature;b=this.H.i();b.Y(a.subDomain);b.n(a.path);b.n(a.version);this.ay=b;this.yu=this.H.i();this.j===pk.INIT&&this.Vp();return this};ok.prototype.configure=ok.prototype.$;function Rj(a){return a.j===pk.READY}ok.prototype.s=function(){return Rj(this)?this.H:void 0};\nok.prototype.Vp=function(){var a=this;new Tc(\"application/json\",this.ay.toString(),function(b,c){if(c)a.Jd(pk.ERROR,c);else{var d=b.SignatureTokens,e=new Date(b.Expires),f=e?e.getTime()-ta()-36E5:0;a.H.u(d);e&&4E9>f&&xj.setTimeout(w(a.Vp,a),Math.max(f,0));a.Jd(pk.READY)}})};ok.prototype.xu=function(a,b,c){var d=pj.venuesDiscovery;a=this.yu.i().Y(d.subDomain).n(d.path).n(d.version).u(oj(a,d.params));new Tc(\"application/json\",a.toString(),function(a,d){d?c(d):b(a)})};ok.prototype.discover=ok.prototype.xu;\nok.prototype.o=function(a){return new Xh(new nk(this,a))};ok.prototype.createTileLayer=ok.prototype.o;ok.prototype.j=pk.INIT;ok.prototype.getState=function(){return this.j};ok.prototype.getState=ok.prototype.getState;ok.prototype.Jd=function(a,b){var c=new fc(\"statechange\",this);b&&(c.errorCode=b);this.j=a;this.dispatchEvent(c)};V.prototype.rq=function(a){return this.$(new ok(a))};V.prototype.getVenueService=V.prototype.rq;\nvar qk={subDomain:\"venue.maps\",path:\"\",shards:La(\"1 2 3 4\").map(function(a){return\"static-\"+a})};pj.venues=qk;pj.venueSignature={version:\"v1\",subDomain:\"signature\",path:\"venues/signature\"};pj.venuesDiscovery={version:\"v1\",subDomain:\"discovery\",path:\"venues/discovery\"};var rk={};function ak(a){rk.provider=a;return rk};function sk(){this.kc={}}sk.prototype.Ic=function(a,b){var c=a+b,d,e,f;if(!(d=this.kc[c])){f={size:{w:26,h:32},anchor:{x:13,y:30}};if(\"CLOSURE\"!==a)switch(d=tk,a){case \"CONGESTION\":d=d.replace(\"{{icon}}\",uk);break;case \"ROADWORKS\":d=d.replace(\"{{icon}}\",vk);break;case \"ACCIDENT\":d=d.replace(\"{{icon}}\",wk);break;default:d=d.replace(\"{{icon}}\",xk)}else d=yk,f.anchor.y=16;e=zk[b]||zk.BLOCKING;d=d.replace(\"{{color}}\",e);this.kc[c]=d=new N(d,f)}return d};\nvar zk={BLOCKING:\"#323232\",VERYHIGH:\"#d5232f\",HIGH:\"#ffa100\"},uk='<path d=\"m 18,15 0,0 c 0,-0.1 0,-0.2 0,-0.4 l 0,-0.2 c 0,-0.1 0,-0.2 0,-0.4 0,0 0,0 0,0 0.6,0 1.1,-0.4 1.1,-1 0,-0.5 -0.5,-1 -1,-1 -0.7,0 -1.1,0.5 -1.1,1 -0.1,0 -0.3,-0.1 -0.4,-0.1 l -0.6,0 -0.3,-0.5 C 15.2,11.6 14.3,11 13.3,11 L 18,11 17.2,9.6 C 17,9.3 16.7,9 16.3,9 L 12.8,9 C 12.4,9 12,9.3 11.8,9.6 L 11.1,11 9.8,11 C 9.7,11 9.6,11 9.5,11 9.2,11 9,10.9 9,10.6 L 9,10.4 C 9,10.2 9.2,9.9 9.5,9.9 l 1.2,0 0.6,-1.04 c 0.3,-0.5 0.9,-0.9 1.5,-0.9 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1.04 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 18.3,16 18,15.8 18,15.6 L 18,15 z M 8,18.1 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.6,0 -1.1,0.5 -1.1,1 0,0.6 0.5,1.1 1.1,1.1 m 7,0 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.5,0 -1,0.5 -1,1 0,0.6 0.5,1.1 1,1.1 M 14.2,13.6 C 14,13.3 13.7,13 13.3,13 L 9.8,13 C 9.4,13 9,13.3 8.8,13.6 L 8.1,15 15,15 14.2,13.6 z m -8.2,1 0,-0.2 c 0,-0.2 0.2,-0.5 0.5,-0.5 l 1.1,0 0.7,-1 C 8.6,12.4 9.2,12 9.8,12 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 15.3,20 15,19.8 15,19.6 L 15,19 8,19 8,19.6 C 8,19.8 7.8,20 7.5,20 l -1,0 C 6.2,20 6,19.8 6,19.6 l 0,-3.4 c 0,-0.4 0.2,-0.8 0.6,-1.1 l -0.1,0 C 6.2,15.1 6,14.9 6,14.6\" fill=\"#ffffff\" />',\nvk='<path d=\"m 9.24,13.2 -3.7,6.8 1.3,0 2.8,-5.1 1.36,1.5 0,3.6 1.1,0 0,-4 -1.4,-1.6 -1.46,-1.2 z M 14.2,9.5 c 0.7,0 1.3,-0.5 1.3,-1.21 0,-0.7 -0.6,-1.2 -1.3,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 0,0.71 0.5,1.21 1.2,1.21 m -4.46,0.5 1.06,0 -0.96,2.1 -1,-0.8 0.9,-1.3 z m 2.56,4 -1,-0.7 1,-1.9 0,2.6 z m 6.9,1.7 c -0.4,-0.5 -1.5,-1.1 -2.3,0 -0.2,0.3 -0.6,0.7 -0.9,1.2 l -2.7,-2.1 0,-5 -0.8,-0.7 -3.26,0 -1.5,2.3 7.86,6 C 14.7,18.6 13.8,20 13.8,20 l 6,0 1.5,-1.6 c 0,0 -1.7,-2.2 -2.1,-2.7\" fill=\"#ffffff\" />',wk=\n'<path d=\"m 10.2,15.9 c 0.4,-0.5 1,-0.5 1.4,0 0.5,0.4 0.5,1 0,1.4 -0.4,0.4 -1,0.4 -1.4,0 -0.45,-0.4 -0.45,-1 0,-1.4 m 4.9,-5 c 0.4,-0.4 1.1,-0.4 1.5,0 0.4,0.4 0.4,1.1 0,1.5 -0.4,0.4 -1.1,0.4 -1.5,0 -0.4,-0.4 -0.4,-1.1 0,-1.5 m 2.6,3.8 c 0.1,0.3 0,0.7 -0.3,1 l -1.9,1 c 0,0 0,0.8 0,1.1 0,0.3 0,0.2 -0.1,0.3 -0.1,0.1 -0.3,0.2 -0.5,0.2 l -2.6,-0.3 4.9,-4.9 0.5,1.6 z m -6.5,5 0.1,0.2 c 0.2,0.1 0.5,0.1 0.7,0 l 0.8,-0.9 1.8,0.1 c 1.1,0 1.4,0 1.7,-0.6 l 0.1,-1.3 1.8,-0.8 c 0.4,-0.4 0.6,-1.1 0.4,-1.7 l -0.3,-1.1 0.8,-0.8 c 0.2,-0.2 0.2,-0.5 0,-0.7 L 19,12 c -0.2,-0.2 -0.5,-0.2 -0.7,0 l -0.1,0.1 c 0.1,-0.5 -0.1,-0.9 -0.4,-1.3 L 15.5,8.44 C 15.3,8.26 15,8.26 14.8,8.44 l -0.7,0.74 c -0.2,0.19 -0.2,0.49 0,0.68 l 0.3,0.34 -4.92,5 -0.36,-0.4 C 8.93,14.6 8.63,14.6 8.45,14.8 L 7.7,15.6 c -0.18,0.1 -0.18,0.4 0,0.6 l 2.4,2.4 c 0.3,0.3 0.7,0.4 1.2,0.4 l -0.1,0.1 c -0.2,0.2 -0.2,0.5 0,0.7 m 5.6,-0.8 3.9,0 1.6,-2 -5.5,2 z m -8.08,0 -3.28,-1.8 0.9,1.8 2.38,0 z\" fill=\"#ffffff\" />',\nxk='<path d=\"m 12.9,15.1 c 0.6,0 1.1,-0.5 1.1,-1 l 0.4,-5.9 c 0,-0.6 -0.6,-1.04 -1.5,-1.04 -0.8,0 -1.4,0.44 -1.4,1.04 l 0.3,5.9 c 0,0.5 0.6,1 1.1,1 m 0,1.3 c -0.7,0 -1.3,0.6 -1.3,1.3 0,0.8 0.6,1.4 1.3,1.4 0.8,0 1.4,-0.6 1.4,-1.4 0,-0.7 -0.6,-1.3 -1.4,-1.3\" fill=\"#ffffff\" />',tk='<svg width=\"26\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m 16.8,29.4 c 0,-1.1 -1.8,-2 -4,-2 -2.2,0 -4.01,0.9 -4.01,2 0,1.1 1.81,2 4.01,2 2.2,0 4,-0.9 4,-2\" style=\"fill:#878787\"/><path d=\"m 24.1,17.8 c 1.6,-1.6 1.6,-3.8 0,-5.7 L 15.8,1.9 C 15,0.998 14,0.498 12.9,0.498 11.8,0.498 10.7,1.1 10,1.9 L 1.7,12.1 c -1.6,1.9 -1.6,4.1 0,5.7 L 12.9,29 24.1,17.8 z\" stroke=\"#fff\" stroke-width=\"1\" fill=\"{{color}}\" />{{icon}}</svg>',\nyk='<svg width=\"26\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"13\" cy=\"15\" r=\"11\" fill=\"{{color}}\" stroke=\"#ffffff\" stroke-width=\"1\"/><rect x=\"6\" y=\"13\" width=\"14\" height=\"5\" fill=\"#ffffff\" /></svg>';function Ak(a,b,c){c=c?c:{criticality:\"major,critical\"};if(!(a instanceof rj))throw Error(\"IllegalArgument: service\");qi.call(this,{max:20,min:8,requestData:w(this.Qx,this)});this.kc=new sk;this.fa=a;this.D=c;this.reload=w(this.reload,this);this.Ex=setInterval(this.reload,b||18E4)}v(Ak,qi);r(\"H.service.TrafficIncidentsProvider\",Ak);Ak.prototype.tu={minor:\"HIGH\",\"low impact\":\"HIGH\",major:\"VERYHIGH\",critical:\"BLOCKING\"};\nAk.prototype.Qx=function(a,b,c,d,e){var f=this,g=this.tu,h=this.kc;return this.fa.ms(a,b,c,function(a){var b=[];a=a.TRAFFIC_ITEMS;var c,e,q,s;if(a)for(a=a.TRAFFIC_ITEM,s=a.length;s--;){c=a[s];e=c.TRAFFIC_ITEM_TYPE_DESC;switch(e){case \"ACCIDENT\":case \"CONGESTION\":q=e;break;case \"CONSTRUCTION\":q=\"ROADWORKS\";break;default:q=\"OTHER\"}q=h.Ic(q,g[c.CRITICALITY.DESCRIPTION]);e=c.LOCATION.GEOLOC.ORIGIN;e=new rh({lat:e.LATITUDE,lng:e.LONGITUDE},{provider:f,icon:q});e.setData(c);b.push(e)}d(b)},e,this.D)};\nAk.prototype.e=function(){qi.prototype.e.call(this);clearInterval(this.Ex)};function Bk(a){var b;if(a)for(this.Bo={},b=a.length;b--;)this.Bo[a[b]]=!0;this.Ts={}}var Ck;Bk.prototype.Bo={};Bk.prototype.parse=function(a,b,c){var d,e,f,g,h,k;Ck=!1;try{c=xj.JSON.parse(c)}catch(l){Ck=!0}if(c&&(d=c.metadata))for(e in k={spatials:[]},d){if(c=!this.Bo[e]&&(f=Dk[e]))(g=d[e])||(Ck=!0,g=void 0),c=g;if(c)for(c=g.length;c--;){var n;(n=g[c])||(Ck=!0,n=void 0);(h=n)&&f(b,a,this,e,h,k)}}else Ck=!0;return Ck?void 0:k};r(\"H.service.metaInfo.Parser.prototype.parse\",Bk.prototype.parse);\nvar Dk={\"street labels\":function(a,b,c,d,e,f){var g;(g=e.vertices)||(Ck=!0,g=void 0);if(g){var h=g.length,k,l,n;(l=0<h)||(Ck=!0,l=void 0);if(l)for(k=Array(h/2);h;)n=g[--h],l=g[--h],k[h/2]=new F(l,n);k=k?[k]:[];h=+e[\"font size\"]/a.fe();g=c.Ts[h];g||(Ek.lineWidth=h,g=c.Ts[h]=c.Mb.fq(Ek));Fk(a,b,k,!1,g,e,d,f,-1)}delete e.vertices},\"city center labels\":function(a,b,c,d,e,f){Fk(a,b,Gk(e,[]),!0,c.Mb,e,d,f,-1)},labels:function(a,b,c,d,e,f){var g;(g=e[\"bounding boxes\"])||(Ck=!0,g=void 0);if(g){for(var h=\ng.length,k=[],l;h--;){var n;(n=g[h])||(Ck=!0,n=void 0);(l=n)&&Gk(l,k)}Fk(a,b,k,!0,c.Mb,e,d,f,-1)}delete e[\"bounding boxes\"]},buildings:function(a,b,c,d,e,f){var g=e.id,h=b.Ie[g],k,l,n,p,q,s,t=[],u=[];(k=e.sectors)||(Ck=!0,k=void 0);if(k)for(n=k.length,l=0;l<n;l++)if((p=k[l])||(Ck=!0,p=void 0),p){if(q=p.vertices)(s=p.polygons)&&t.push.apply(t,Hk(q,s)),(s=p.outlines)&&u.push.apply(u,Hk(q,s));delete p.vertices;delete p.polygons;delete p.outlines}s=t.length;t.push.apply(t,u);(u=t.length)||(Ck=!0,u=void 0);\nu&&(h?(h.Xc[a.key]=new ek(t,s,void 0),f.spatials.push(h)):(h=Fk(a,b,t,!0,c.Mb,e,d,f,s,g),b.k(h)))}};Dk[\"transit stops\"]=Dk.POIs=Dk.labels;var Ik=[\"text box\",\"bullet box\",\"annotation box\",\"icon box\"];function Gk(a,b){for(var c=Ik.length,d,e;c--;)if(d=Ik[c],e=a[d]){var f=e[0],g=e[1],h=e[2];e=e[3];b.push([new F(f,g),new F(f+h,g),new F(f+h,g+e),new F(f,g+e)]);delete a[d]}return b}\nfunction Hk(a,b){var c=b.length,d,e,f,g,h;if(0<c)for(e=Array(c);c--;)if((d=b[c])||(Ck=!0,d=void 0),d&&(g=d.length,0<g))for(e[c]=f=Array(g);g--;)h=2*d[g],f[g]=new F(a[h],a[h+1]);return e||[]}var Jk={};function Fk(a,b,c,d,e,f,g,h,k,l){Jk.style=e;d=new ck(b,d,l,Jk);d.Xc[a.key]=new ek(c,k,void 0);Kk(f);f.category=g;d.setData(f);h.spatials.push(d);d.G(b);return d}Bk.prototype.Mb=new pe({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0});var Ek={};\nfunction Kk(a){var b,c=!1;switch(typeof a){case \"object\":if(a instanceof Array)for(b=a.length;b--;)Kk(a[b])?c=!0:delete a[b];else if(a)for(b in a)Kk(a[b])?c=!0:delete a[b];break;case \"number\":c=!0;break;default:c=!!a}return c};function Lk(a,b,c){c=c||{};this.D=b=b||{};if(!(a&&a instanceof Mk))throw Error(\"InvalidArgument: service required\");this.fa=a;this.Uk=w(this.Uk,this);this.fa.addEventListener(\"versionupdate\",this.Uk);this.ra=a.s().i().n(\"maptile/\"+a.xa+\"/normal.day\").u(this.np).u(b);this.Ua=a.Ua||null;this.Ea=c.pixelRatio||c.pixelratio||1;this.tileSize=c.tileSize||256;this.vi=0;this.Do=c.tileCacheSize||256;this.objectProvider_=new Nj(new Bk(c.categoryFilter));this.objectProvider_.G(this);this.Vb=w(this.Vb,this);this.objectProvider_.addEventListener(\"update\",\nthis.Vb);this.ob=w(this.ob,this);this.gf=new O(this.Do,this.ob);this.getCache=this.Nb;Q.call(this,{min:0,max:20})}v(Lk,Q);r(\"H.service.metaInfo.TileProvider\",Lk);Lk.prototype.Nb=function(){return this.gf};Lk.prototype.ob=function(a,b){var c,d,e;c=b.Ob();for(d=c.length;d--;)e=c[d],delete e.Xc[b.key],e.He();b.data&&(Ej.push(b.rk(),this.tileSize),b.sk())};Lk.prototype.Vb=function(){this.dispatchEvent(\"update\")};\nLk.prototype.uc=function(a,b,c,d,e){var f=this.ra.i(),g=this.Ua,h=this.tileSize,k=this.getTileKey(a,b,c),k=this.Nb().get(k),l,n;if(k&&!k.rj())d(Ej.pop(this.tileSize),null),l={cancel:function(){}};else{g&&f.Y(g[(c+b+a)%g.length]);f.n(c+\"/\"+a+\"/\"+b+\"/\"+h+\"/png8\");var p=xj.setTimeout(function(){n=new ua(f.toString(),function(a,b){b?e():d(null,a)})},500)}return l||{cancel:function(){n||xj.clearTimeout(p)}}};Lk.prototype.requestInternal=Lk.prototype.uc;\nLk.prototype.mf=function(a,b,c,d,e){var f=this.objectProvider_,g;g=d||Ej.pop(this.tileSize);if(d)a=this.Nb().get(this.getTileKey(a,b,c)),a.F(d);else if(d=a=new P(this.sh(a,b,c),a,b,c,this.tileSize,this.Ea,c+this.vi,f),delete d.Qo,d.Po=e,a.F(g))for(e=a.Ob(),g=e.length;g--;)e[g].Oe();else Ej.push(g,this.tileSize);return a};Lk.prototype.createTileInternal=Lk.prototype.mf;Lk.prototype.e=function(){this.objectProvider_.e();this.fa.removeEventListener(\"versionupdate\",this.Uk);Q.prototype.e.call(this)};\nLk.prototype.Uk=function(){var a=this.fa;this.ra=a.s().i().n(\"maptile/\"+a.xa+\"/normal.day\").u(this.np).u(this.D);this.reload(!1)};Lk.prototype.np={metadata:\"metaonly\",mgen:\"2\"};function Mk(a){a=oj(pj.maptile,a||{});zb.call(this);this.ra=a.baseUrl;this.A=a.path;this.ac=a.subDomain;this.Ua=a.shards;this.oa=(this.Km=!!a.ignoreTypes)?null:a.type;this.xa=a.version;this.El=new sj}v(Mk,E);r(\"H.service.metaInfo.Service\",Mk);function Nk(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}\nMk.prototype.$=function(a,b,c,d,e){this.H=(this.ra||e).i();this.ac&&this.H.Y(this.ac);this.oa&&this.H.Y(this.oa);this.A&&this.H.Zb(this.A);\"newest\"===this.xa&&this.$l();return this};Mk.prototype.configure=Mk.prototype.$;Mk.prototype.s=function(){return this.H};Mk.prototype.pq=function(){return this.oa};Mk.prototype.Am=function(){return this.xa};Mk.prototype.getVersion=Mk.prototype.Am;Mk.prototype.uo=function(a){this.xa=a};Mk.prototype.ta=function(){return this.El};Mk.prototype.getCopyrights=Mk.prototype.ta;\nMk.prototype.Ko=function(a){a=a.response;var b;Nk(a,\"map\");Nk(a,\"scheme\");Nk(a,\"tiletype\");Nk(a,\"format\");Nk(a,\"resolution\");Nk(a,\"language\");if(\"newest\"===this.xa&&\"traffic\"!==this.oa)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.uo(a.maps[b].hash),this.dispatchEvent(\"versionupdate\"));this.Nm=a;this.dispatchEvent(\"infoupdate\")};\nMk.prototype.$l=function(){var a=this,b=this.s().i().n(\"info\").u({output:\"json\"});this.Ua&&b.Y(this.Ua[0]);lj({url:b,ul:\"callback_func\",ld:function(b){a.Ko(JSON.parse(b.replace(/,\\s?\\]/g,\"]\")))},ae:function(a){throw Error(\"[\"+a+\"]: Could not fetch meta-info from map tile service @\"+b.toString());},$r:!0})};Mk.prototype.rm=function(){return this.Nm};Mk.prototype.getInfo=Mk.prototype.rm;Mk.prototype.Rg=function(a,b,c,d){return new Lk(this,d,{tileSize:a,pixelRatio:b,categoryFilter:c})};\nMk.prototype.createTileProvider=Mk.prototype.Rg;Mk.prototype.o=function(a,b,c,d){a=this.Rg(a,b,c,d);return new Xh(a)};Mk.prototype.createTileLayer=Mk.prototype.o;V.prototype.hq=function(a){return this.$(new Mk(a))};V.prototype.getMetaInfoService=V.prototype.hq;pj.metainfotile={type:\"base\",version:\"newest\",subDomain:\"maps\",path:\"maptile/2.1\",shards:[\"1\",\"2\",\"3\",\"4\"]};V.prototype.su=function(a,b,c,d,e,f){var g=this.nh(),h=this.nh({type:\"aerial\"}),k=this.nh({type:\"traffic\"}),l=this.nh({type:\"pano\"}),n=this.hq(),p=this.oq(),q=this.rq(),s={},t={crossOrigin:\"anonymous\"},u;\"object\"===typeof a&&(f=a,t.crossOrigin=\"crossOrigin\"in f?f.crossOrigin:\"anonymous\",a=f.tileSize,b=f.ppi,c=f.lg,d=f.lg2,e=f.style,f=f.pois);a=a||256;u=320===b?2:1;320===b&&(s.ppi=b);c&&(s.lg=c);d&&(s.lg2=d);e&&(s.style=e);f&&(s.pois=f);b=new Ak(p,void 0,c?s:null);this.gw=new ri(b);return{normal:{xbase:g.o(\"xbasetile\",\n\"normal.day\",a,\"png8\",s,1,!1,t),xbasenight:g.o(\"xbasetile\",\"normal.night\",a,\"png8\",s,1,!1,t),base:g.o(\"basetile\",\"normal.day\",a,\"png8\",s,1,!1,t),basenight:g.o(\"basetile\",\"normal.night\",a,\"png8\",s,1,!1,t),map:g.o(\"maptile\",\"normal.day\",a,\"png8\",s,1,!1,t),mapnight:g.o(\"maptile\",\"normal.night\",a,\"png8\",s,1,!1,t),traffic:k.o(\"traffictile\",\"normal.day\",a,\"png8\",s,1,!1,t),trafficnight:k.o(\"traffictile\",\"normal.night\",a,\"png8\",s,1,!1,t),transit:g.o(\"maptile\",\"normal.day.transit\",a,\"png8\",s,1,!1,t),panorama:l.o(\"rctile\",\n\"normal.day\",a,\"png8\",s,1,!1,t),panoramanight:l.o(\"rctile\",\"normal.night\",a,\"png8\",s,1,!1,t),labels:g.o(\"labeltile\",\"normal.day\",a,\"png\",s,1,!1,t),metaInfo:n.o(a,u,[\"buildings\"],s)},satellite:{xbase:h.o(\"xbasetile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),base:h.o(\"basetile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),map:h.o(\"maptile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),traffic:k.o(\"traffictile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),panorama:l.o(\"rctile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),labels:h.o(\"labeltile\",\"hybrid.day\",a,\"png\",s,\n1,!0,t)},terrain:{xbase:h.o(\"xbasetile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),base:h.o(\"basetile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),map:h.o(\"maptile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),traffic:k.o(\"traffictile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),panorama:l.o(\"rctile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),labels:h.o(\"labeltile\",\"terrain.day\",a,\"png\",s,1,!1,t)},incidents:this.gw,venues:q.o({tileSize:a,pixelRatio:u})}};V.prototype.createDefaultLayers=V.prototype.su;function Ok(a){a=oj(pj.routing,a);a.callbackKey=\"jsoncallback\";Ok.a.constructor.call(this,a)}v(Ok,mj);r(\"H.service.RoutingService\",Ok);Ok.prototype.sl=function(a,b,c){a=this.s().i().n(\"calculateroute.json\").u(a);nj(this,a,b,c)};Ok.prototype.calculateRoute=Ok.prototype.sl;pj.routing={subDomain:\"route\",path:\"routing/7.2\"};V.prototype.Qv=function(a){return this.$(new Ok(a))};V.prototype.getRoutingService=V.prototype.Qv;function Pk(a){a=oj(pj.geocoding,a);a.callbackKey=\"jsoncallback\";Pk.a.constructor.call(this,a);this.rs=a.reverseSubDomain}v(Pk,mj);r(\"H.service.GeocodingService\",Pk);Pk.prototype.Wu=function(a,b,c){a=this.s().i().n(\"geocode.json\").u(a);return nj(this,a,b,c)};Pk.prototype.geocode=Pk.prototype.Wu;Pk.prototype.Ux=function(a,b,c){a=this.s().i().n(\"reversegeocode.json\").u(a);this.rs&&a.Y(this.rs);return nj(this,a,b,c)};Pk.prototype.reverseGeocode=Pk.prototype.Ux;\nPk.prototype.search=function(a,b,c){a=this.s().i().n(\"search.json\").u(a);return nj(this,a,b,c)};Pk.prototype.search=Pk.prototype.search;pj.geocoding={subDomain:\"geocoder\",path:\"6.2\",reverseSubDomain:\"reverse\"};V.prototype.nv=function(a){return this.$(new Pk(a))};V.prototype.getGeocodingService=V.prototype.nv;function Qk(a){a=oj(pj.places,a);a.callbackKey=\"callback\";Qk.a.constructor.call(this,a)}v(Qk,mj);r(\"H.service.PlacesService\",Qk);Qk.EntryPoint={SEARCH:\"discover/search\",SUGGEST:\"suggest\",EXPLORE:\"discover/explore\",AROUND:\"discover/around\",HERE:\"discover/here\",CATEGORIES:\"categories/places\"};Qk.prototype.Yb=function(a,b,c,d){b=b||{};a=this.s().i().n(a).u(b);return nj(this,a,c,d)};Qk.prototype.request=Qk.prototype.Yb;Qk.prototype.search=function(a,b,c){return this.Yb(\"discover/search\",a,b,c)};\nQk.prototype.search=Qk.prototype.search;Qk.prototype.iy=function(a,b,c){return this.Yb(\"suggest\",a,b,c)};Qk.prototype.suggest=Qk.prototype.iy;Qk.prototype.Lu=function(a,b,c){return this.Yb(\"discover/explore\",a,b,c)};Qk.prototype.explore=Qk.prototype.Lu;Qk.prototype.au=function(a,b,c){return this.Yb(\"discover/around\",a,b,c)};Qk.prototype.around=Qk.prototype.au;Qk.prototype.fw=function(a,b,c){return this.Yb(\"discover/here\",a,b,c)};Qk.prototype.here=Qk.prototype.fw;\nQk.prototype.lu=function(a,b,c){return this.Yb(\"categories/places\",a,b,c)};Qk.prototype.categories=Qk.prototype.lu;Qk.prototype.bm=function(a,b,c,d){a=jj(a);d&&a.u(d);return nj(this,a,b,c)};Qk.prototype.follow=Qk.prototype.bm;pj.places={subDomain:\"places\",path:\"places/v1\"};V.prototype.Iv=function(){return this.$(new Qk)};V.prototype.getPlacesService=V.prototype.Iv;function Rk(a){a=oj(pj.enterpriseRouting,a);a.callbackKey=\"jsoncallback\";if(!A(a.baseUrl,U))throw new x(Rk,0,\"Invalid base url\");this.Ra=a;Rk.a.constructor.call(this,a)}v(Rk,mj);r(\"H.service.EnterpriseRoutingService\",Rk);Rk.prototype.sl=function(a,b,c){a=this.s().i().n(\"calculateroute.json\").u(a);nj(this,a,b,c)};Rk.prototype.calculateRoute=Rk.prototype.sl;Rk.prototype.Pv=function(a,b,c){a=this.s().i().n(\"getroute.json\").u(a);nj(this,a,b,c)};Rk.prototype.getRoute=Rk.prototype.Pv;\nRk.prototype.wv=function(a,b,c){a=this.s().i().n(\"getlinkinfo.json\").u(a);nj(this,a,b,c)};Rk.prototype.getLinkInfo=Rk.prototype.wv;Rk.prototype.hu=function(a,b,c){a=this.s().i().n(\"calculateisoline.json\").u(a);nj(this,a,b,c)};Rk.prototype.calculateIsoline=Rk.prototype.hu;Rk.prototype.$=function(a,b,c,d,e){var f,g=pj.enterpriseRouting;this.Ra.baseUrl===g.baseUrl&&e&&(f=e.i(),f.$c(g.host),d&&f.Y(g.citSubDomain));return mj.prototype.$.apply(this,[a,b,c,d,f])};Rk.prototype.configure=Rk.prototype.$;\nvar Sk={subDomain:\"route\",path:\"routing/6.2\",baseUrl:new U(\"http\",\"nlp.nokia.com\"),host:\"nlp.nokia.com\",citSubDomain:\"st\"};pj.enterpriseRouting=Sk;V.prototype.kv=function(a){return this.$(new Rk(a))};V.prototype.getEnterpriseRoutingService=V.prototype.kv;r(\"H.service.buildInfo\",function(){return wi(\"mapsjs-service\",\"0.12.0\",\"dbc6fe6\")});\n");