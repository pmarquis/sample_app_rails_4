H.util.eval("function Di(a){var b=a.ownerDocument,b=b.documentElement||b.body.parentNode||b.body;a=a.getBoundingClientRect();return{x:a.left+(\"number\"===typeof window.pageXOffset?window.pageXOffset:b.scrollLeft),y:a.top+(\"number\"===typeof window.pageYOffset?window.pageYOffset:b.scrollTop)}}var Ei=Function(\"return this\")();function Fi(a,b,c,d,e,f,g){Fi.a.constructor.call(this,a);this.pointers=b;this.changedPointers=c;this.targetPointers=d;this.currentPointer=e;this.originalEvent=g;this.target=f}v(Fi,fc);r(\"H.mapevents.Event\",Fi);function Gi(a,b,c,d,e,f){if(isNaN(a))throw Error(\"x needs to be a number\");if(isNaN(b))throw Error(\"y needs to be a number\");if(isNaN(c))throw Error(\"pointer must have an id\");this.viewportX=a;this.viewportY=b;this.target=null;this.id=c;this.type=d;this.dragTarget=null;this.vj=this.button=e!==z?e:-1;this.buttons=f!==z?f:0}r(\"H.mapevents.Pointer\",Gi);\nfunction Hi(a,b,c){if(isNaN(b))throw Error(\"x needs to be a number\");if(isNaN(c))throw Error(\"y needs to be a number\");a.viewportX=b;a.viewportY=c}Gi.prototype.qv=function(){return this.vj};Gi.prototype.getLastChangedButton=Gi.prototype.qv;function Ii(a,b){a.vj=b;a.buttons|=Gi.prototype.up[+b]||0}function Ji(a,b){a.vj=b;a.buttons&=~(Gi.prototype.up[+b]||0)}Gi.prototype.up=[1,4,2];var Ki={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2};Gi.Button=Ki;function Li(a){this.da=a instanceof Array?a.slice(0):[]}m=Li.prototype;m.clear=function(){this.da.splice(0,this.da.length)};m.length=function(){return this.da.length};m.item=function(a){return this.da[a]};m.indexOf=function(a){for(var b=this.da.length;b--;)if(this.da[b].id===a)return b;return-1};function Mi(a,b){var c=a.indexOf(b);return-1!==c?a.da[c]:null}m.remove=function(a){a=this.indexOf(a);return-1!==a?this.da.splice(a,1)[0]:null};\nfunction Ni(a,b){for(var c=a.da.length,d=[];c--;)a.da[c].type!==b&&d.push(a.da[c]);a.da=d}function Oi(a,b){for(var c=a.da.length;c--;)if(a.da[c].dragTarget===b)return!0;return!1}m.push=function(a){if(a instanceof Gi)return this.da.push(a);throw Error(\"list needs a pointer\");};m.jd=function(){return this.da};m.i=function(){return new Li(this.da)};function Pi(a,b,c){c=c||{};if(!(a instanceof S))throw Error(\"events: map instance required\");if(!(b instanceof Array))throw Error(\"events: map array required\");zb.call(this);this.Ll=c.Ll||300;this.Dp=c.Dp||50;this.Zs=c.Zs||50;this.$s=c.$s||500;this.bn=c.bn||900;this.cr=c.cr||50;this.map=a;this.q=this.map.q;this.element=this.q.element;this.Zl=b;this.la=new Li;this.Ga=new Li;this.me={};this.ia=null;this.dj=!0;this.Lh={};this.Gh={};this.Ch=null;this.Qg=w(this.Qg,this);this.Ju={pointerdown:this.Bu,pointermove:this.Cu,\npointerup:this.Du,pointercancel:this.Au};Qi(this)}v(Pi,zb);function Qi(a,b){for(var c,d,e=0,f=a.Zl.length,e=0;e<f;e++)d=a.Zl[e],c=d.C,\"function\"===typeof c&&(b?(d.target||a.element).removeEventListener(d.Aa,c):(d.target||a.element).addEventListener(d.Aa,c))}\nfunction Ri(a,b,c){var d,e=a.Ju[b],f,g;if(\"function\"===typeof e)for(\"pointermove\"!==b&&(a.dj=!0),f=0,g=a.Ga.length();f<g;f++)b=a.Ga.item(f),a.element.contains(c.target)?(d=a,d=d.ia===b?b.target:0<=b.viewportX&&b.viewportX<d.q.width&&0<=b.viewportY&&b.viewportY<d.q.height?d.map.ph(b.viewportX,b.viewportY)||d.map:null):d=null,Si(b.id,a.Lh),e.call(a,b,d,c);a.Ga.clear()}m=Pi.prototype;\nm.Du=function(a,b,c){a.target=b;Ti(this,a,c);Ui(this,b,\"pointerup\",c,a);\"mouse\"!==a.type&&Ui(this,b,\"pointerleave\",c,a);b=this.me[a.id];var d={x:a.viewportX,y:a.viewportY},e=c.timeStamp,f=a.target,g=this.Ch;b&&b.target===f&&b.ll.distance(d)<this.Zs&&e-b.Io<this.$s?(Ui(this,f,\"tap\",c,a),g&&g.target===f&&e-g.Io<this.Ll?g.ll.distance({x:a.viewportX,y:a.viewportY})<this.Dp&&(Ui(this,f,\"dbltap\",c,a),this.Ch=null):this.Ch={target:f,ll:new F(a.viewportX,a.viewportY),Io:c.timeStamp}):this.Ch=null;this.me=\n{};Si(a.id,this.Gh)};function Ti(a,b,c){b===a.ia&&(Ui(a,b.dragTarget,\"dragend\",c,b),a.ia=null,Si(b.id,a.Lh));b.dragTarget=null}m.Qg=function(a,b){var c=this;Ui(this,a.dragTarget,\"drag\",b,a);Si(a.id,this.Lh);this.Lh[a.id]=setTimeout(function(){c.Qg(a,b)},150)};function Si(a,b){b[a]&&(clearTimeout(b[a]),delete b[a])}\nfunction Vi(a,b,c){var d=b.target,e=new F(b.viewportX,b.viewportY),f=b.id;Si(f,a.Gh);a.Gh[f]=setTimeout(function(){d&&d===b.target&&e.distance({x:b.viewportX,y:b.viewportY})<a.cr&&(Ui(a,d,\"longpress\",c,b),delete a.me[b.id])},a.bn)}\nm.Cu=function(a,b,c){var d=a.dragTarget,e=a.id,f;f=a.target;a.target=b;f!==b&&(Ui(this,f,\"pointerleave\",c,a),Ui(this,b,\"pointerenter\",c,a));d?this.ia?this.Qg(a,c):this.dj?this.dj=!1:(this.ia=a,Ui(this,d,\"dragstart\",c,a),this.Qg(a,c),delete this.me[e],this.dj=!0):(!this.ia||this.ia&&this.ia.dragTarget!==b&&this.ia.dragTarget!==this.map)&&Ui(this,b,\"pointermove\",c,a)};\nm.Bu=function(a,b,c){var d=!(/^(?:mouse|pen)$/.test(a.type)&&0!==c.button),e;b&&(a.target=b,this.me[a.id]={ll:new F(a.viewportX,a.viewportY),target:a.target,Io:c.timeStamp},\"mouse\"!==a.type&&Ui(this,b,\"pointerenter\",c,a),e=Ui(this,b,\"pointerdown\",c,a),!this.ia&&d&&(b.draggable&&!Oi(this.la,b)?a.dragTarget=b:!this.map.draggable||e.defaultPrevented||Oi(this.la,this.map)||(a.dragTarget=this.map)),Vi(this,a,c))};\nm.Au=function(a,b,c){a.target=null;b?(Ui(this,b,\"pointerleave\",c,a),Ui(this,b,\"pointercancel\",c,a)):Ui(this,this.map,\"pointercancel\",c,a);Ti(this,a,c);this.me={};Si(a.id,this.Gh)};function Ui(a,b,c,d,e){var f;if(b&&\"function\"===typeof b.dispatchEvent){f=Fi;var g=a.la.jd(),h=a.Ga.jd();a=a.la;var k,l=a.da.length,n=[];for(k=0;k<l;k++)a.da[k].target===b&&n.push(a.da[k]);f=new f(c,g,h,n,e,b,d);e.button=/^(?:longpress|(?:dbl)?tap|pointer(?:down|up))$/.test(c)?e.vj:Ki.NONE;b.dispatchEvent(f)}return f}\nm.c=function(){Qi(this,!0);this.la.clear();this.Ga.clear();var a=this.Lh,b;for(b in a)Si(b,a);var a=this.Gh,c;for(c in a)Si(c,a);this.ia=this.me=this.Ch=this.map=this.Ga=this.la=this.Zl=this.aa=null;zb.prototype.c.call(this)};function Wi(a){this.Af=w(this.Af,this);Pi.call(this,a,[{Aa:\"touchstart\",C:this.Af},{Aa:\"touchmove\",C:this.Af},{Aa:\"touchend\",C:this.Af},{Aa:\"touchcancel\",C:this.Af}]);this.et={touchstart:\"pointerdown\",touchmove:\"pointermove\",touchend:\"pointerup\",touchcancel:\"pointercancel\"};this.Eq=(a=(a=a.lc)?a.f():null)?Array.prototype.slice.call(a.querySelectorAll(\"a\"),0):[]}v(Wi,Pi);\nWi.prototype.Af=function(a){var b=a.touches,c=this.la.length(),d;if(\"touchstart\"===a.type&&c>=b.length){c=this.la.i();for(d=b.length;d--;)c.remove(b[d].identifier);for(d=c.length();d--;)this.la.remove(c.item(d).id);this.Ga=c;Ri(this,\"pointercancel\",a);this.Ga.clear()}if(this.et[a.type]){b=Di(this.q.element);c=a.type;d=a.changedTouches;var e=d.length,f,g,h,k,l,n;this.Ga.clear();for(n=0;n<e;n++)if(h=d[n],l=Mi(this.la,h.identifier),f=h.pageX-b.x,g=h.pageY-b.y,l)if(\"touchmove\"===c){if(h=Math.abs(l.viewportX-\nf),k=Math.abs(l.viewportY-g),1<h||1<k||1===h&&1===k)Hi(l,f,g),this.Ga.push(l)}else\"touchend\"===c&&(this.la.remove(l.id),this.Ga.push(l),Ji(l,Ki.LEFT));else l=new Gi(f,g,h.identifier,\"touch\",Ki.LEFT,1),this.la.push(l),this.Ga.push(l);Ri(this,this.et[a.type],a);-1===this.Eq.indexOf(a.target)&&a.preventDefault()}};Wi.prototype.c=function(){this.Eq=null;Pi.prototype.c.call(this)};function Xi(a){var b=[],b=Yi(this);(navigator.pointerEnabled||navigator.msPointerEnabled)&&b.push({Aa:\"MSHoldVisual\",C:\"prevent\"});Pi.call(this,a,b)}v(Xi,Pi);function Yi(a){var b=navigator.pointerEnabled,c,d,e=[];a.Fm=w(a.Fm,a);\"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver\".split(\" \").forEach(function(f){c=f.toLowerCase().replace(/ms/g,\"\");d=b?c:f;e.push({Aa:d,C:a.Fm,target:\"MSPointerUp\"===f||\"MSPointerMove\"===f?window:null})});return e}\nvar Zi={2:\"touch\",3:\"pen\",4:\"mouse\"};Xi.prototype.Gl=function(a,b){var c;c=a.pointerType;\"number\"===typeof c&&(c=Zi[c]);c=new Gi(b.x,b.y,a.pointerId,c,a.button,a.buttons);this.la.push(c);return c};\nXi.prototype.Fm=function(a){var b=navigator.sx?a.type:a.type.toLowerCase().replace(/ms/g,\"\"),c=Di(this.element),d=Mi(this.la,a.pointerId),e=a.pageX-c.x,c=a.pageY-c.y,f=Zi[a.pointerType]||a.pointerType;d||b in{pointerup:1,pointerout:1,pointercancel:1}||\"touch\"===f&&\"pointerdown\"!==b||(d=this.Gl(a,{x:e,y:c}));d&&(b in{pointerup:1,pointercancel:1}?(\"touch\"===f&&this.la.remove(d.id),Ji(d,a.button)):\"pointerdown\"===b&&(\"touch\"===a.pointerType&&(Ni(this.la,\"mouse\"),Ni(this.la,\"pen\")),Ii(d,a.button)),this.Ga.push(d),\n\"pointermove\"!==b?(Hi(d,e,c),Ri(this,\"pointerout\"===b||\"pointerover\"===b?\"pointermove\":b,a)):d.viewportX===e&&d.viewportY===c||a.target===document.documentElement||(Hi(d,e,c),Ri(this,b,a)));this.Ga.clear()};function $i(a,b,c,d){$i.a.constructor.call(this,\"contextmenu\");this.items=[];this.viewportX=a;this.viewportY=b;this.target=c;this.originalEvent=d}v($i,fc);r(\"H.mapevents.ContextMenuEvent\",$i);function aj(a){this.Cm=w(this.Cm,this);this.Em=w(this.Em,this);this.Dm=w(this.Dm,this);this.fk=!1;this.of=-1;this.Uq=0;aj.a.constructor.call(this,a,[{Aa:\"contextmenu\",C:this.Cm},{target:a,Aa:\"longpress\",C:this.Em},{target:a,Aa:\"dbltap\",C:this.Dm}])}v(aj,Pi);m=aj.prototype;m.Em=function(a){var b=a.currentPointer;\"touch\"===b.type&&1===a.pointers.length&&bj(this,b.viewportX,b.viewportY,a.originalEvent,a.target)};m.Dm=function(a){\"touch\"===a.currentPointer.type&&(this.Uq=Date.now())};\nm.Cm=function(a){var b=this;-1===this.of?this.of=setTimeout(function(){var c=Di(b.element),d=a.pageX-c.x,c=a.pageY-c.y;b.of=-1;bj(b,d,c,a)},this.Ll):(clearInterval(this.of),this.of=-1);a.preventDefault()};function bj(a,b,c,d,e){var f=a.map;e=e||f.ph(b,c)||f;var g=Date.now()-a.Uq;!a.fk&&g>a.bn&&(a.fk=!0,e.dispatchEvent(new $i(b,c,e,d)),ug(f.f(),a.Wo,a.Ip,!1,a))}m.Wo=[\"mousedown\",\"touchstart\",\"pointerdown\",\"wheel\"];\nm.Ip=function(){this.fk&&(this.fk=!1,this.map.dispatchEvent(new fc(\"contextmenuclose\",this.map)))};m.c=function(){var a=this.map.f();clearInterval(this.of);a&&wg(a,this.Wo,this.Ip,!1,this);Pi.prototype.c.call(this)};function cj(a,b,c,d,e){cj.a.constructor.call(this,\"wheel\");this.delta=a;this.viewportX=b;this.viewportY=c;this.target=d;this.originalEvent=e}v(cj,fc);r(\"H.mapevents.WheelEvent\",cj);function dj(a){var b=\"onwheel\"in document;this.Jt=b;this.Gt=(b?\"d\":\"wheelD\")+\"elta\";this.Gm=w(this.Gm,this);dj.a.constructor.call(this,a,[{Aa:(b?\"\":\"mouse\")+\"wheel\",C:this.Gm}])}v(dj,Pi);dj.prototype.normalize=function(a,b,c){var d=this.Gt,e=a[d+(d+\"Y\"in a?\"Y\":\"\")],f,g,h;e&&(h=Math.abs,f=h(e),e=(!(g=a[d+\"X\"])||3<=f/h(g))&&(!(g=a[d+\"Z\"])||3<=f/h(g))?((0<e)-(0>e))*(this.Jt?1:-1):0);return new cj(e,b,c,null,a)};\ndj.prototype.Gm=function(a){var b=Di(this.element);a=this.normalize(a,a.pageX-b.x,a.pageY-b.y);a.delta&&(a.target=this.map.Ba(a.viewportX,a.viewportY)[0],a.target&&\"function\"===typeof a.target.dispatchEvent&&a.target.dispatchEvent(a),a.defaultPrevented||this.map.dispatchEvent(a))};function ej(a){var b=window;this.ge=w(this.ge,this);Pi.call(this,a,[{Aa:\"mousedown\",C:this.ge},{Aa:\"mousemove\",C:this.ge,target:b},{Aa:\"mouseup\",C:this.ge,target:b},{Aa:\"mouseover\",C:this.ge},{Aa:\"mouseout\",C:this.ge},{Aa:\"dragstart\",C:this.dk}])}v(ej,Pi);ej.prototype.Gl=function(a,b){var c=new Gi(b.x,b.y,1,\"mouse\");this.la.push(c);return c};\nej.prototype.ge=function(a){var b=a.type,c=Di(this.element),d={x:a.pageX-c.x,y:a.pageY-c.y},c=this.la.item(0)||this.Gl(a,d);this.Ga.push(c);Hi(c,d.x,d.y);/^mouse(?:move|over|out)$/.test(b)?Ri(this,\"pointermove\",a):(/^mouse(down|up)$/.test(b)&&(d=a.which-1,\"up\"===Ei.RegExp.$1?Ji(c,d):Ii(c,d)),Ri(this,b.replace(\"mouse\",\"pointer\"),a));this.Ga.clear()};ej.prototype.dk=function(a){a.preventDefault()};function fj(a){if(-1!==gj.indexOf(a))throw Error(\"InvalidArgument: map is already in use\");this.b=a;gj.push(a);this.yp=this.nt=this.nn=this.Go=null;navigator.msPointerEnabled||navigator.pointerEnabled?this.Go=new Xi(this.b):(this.Go=new Wi(this.b),this.nn=new ej(this.b));this.nt=new dj(this.b);this.yp=new aj(this.b);this.b.gd(this.e,this);zb.call(this)}v(fj,zb);r(\"H.mapevents.MapEvents\",fj);var gj=[];\nfj.prototype.e=function(){this.b=null;this.Go.e();this.nt.e();this.yp.e();this.nn&&this.nn.e();gj.splice(gj.indexOf(this.b),1);zb.prototype.e.call(this)};fj.prototype.dispose=fj.prototype.e;fj.prototype.av=function(){return this.b};fj.prototype.getAttachedMap=fj.prototype.av;function hj(a,b){if(-1!==ij.indexOf(a))throw Error(\"InvalidArgument: events are already used\");var c=b||{},d;zb.call(this);this.b=d=a.b;this.Cw=a;ij.push(a);this.b.draggable=!0;this.kb=c.kinetics||{duration:600,Sl:qg};this.Qp=7;this.enable(c.enabled||this.Qp);c=S.EngineType;this.q=this.b.q;this.Ze=this.q.element;this.M=this.b.M;this.On=c.P2D;this.Ze.style.msTouchAction=\"none\";this.Ze.style.Qy=\"none\";d.addEventListener(\"dragstart\",this.dk,!1,this);d.addEventListener(\"drag\",this.Gr,!1,this);d.addEventListener(\"dragend\",\nthis.Hr,!1,this);d.addEventListener(\"wheel\",this.Kr,!1,this);d.addEventListener(\"dbltap\",this.Fr,!1,this);d.addEventListener(\"tap\",this.Jr,!1,this);d.addEventListener(\"pointermove\",this.Wr,!1,this);vg(this.Ze,\"contextmenu\",this.Er,!1,this);a.gd(this.e,this)}v(hj,zb);r(\"H.mapevents.Behavior\",hj);var ij=[];hj.prototype.ba=0;hj.DRAGGING=1;hj.WHEELZOOM=2;hj.DBLTAPZOOM=4;m=hj.prototype;\nm.dk=function(a){var b=a.pointers;a=this.q;var c=b[0],b=b[1]||{};this.ba&1&&(a.startInteraction(17,this.kb),a.interaction(c.viewportX,c.viewportY,b.viewportX,b.viewportY),this.ba&2&&this.Fi(c.viewportX,c.viewportY))};m.Gr=function(a){var b=a.pointers[0],c=a.pointers[1]||{};this.ba&1&&(this.q.interaction(b.viewportX,b.viewportY,c.viewportX,c.viewportY),a.originalEvent.preventDefault())};m.Hr=function(){this.ba&1&&this.q.endInteraction(!this.kb)};\nm.Fi=function(a,b){var c,d;this.Ym&&(c=this.b.getZoom(),d=Math[0>this.Ym?\"ceil\":\"floor\"](c),c!==d&&(this.Ym=null,this.zoom(c,d,a,b)))};m.zoom=function(a,b,c,d){var e=+b-+a,f=this.b.M;if(isNaN(+a))throw Error(\"start zoom needs to be a number\");if(isNaN(+b))throw Error(\"to zoom needs to be a number\");0!==e&&(f.startControl(null,c,d),f.control(0,0,e/e*0.006),f.endControl(!0,function(a){a.zoom=b}))};\nm.Kr=function(a){var b,c,d,e;this.ba&2&&(b=a.delta,c=this.b.getZoom(),e=Math[0>b?\"ceil\":\"floor\"](c-b),d=this.b,d.ib().type===this.On?(this.zoom(c,e,a.viewportX,a.viewportY),this.Ym=b):(c=this.b.M.Hc(),c.fov+=16*b,d.M.Yc(c)),a.originalEvent.preventDefault())};m.Jr=function(a){a=a.currentPointer;this.On!==this.b.ib().type&&(a=this.b.Qe(a.viewportX,a.viewportY),this.b.M.Yc(a))};m.Wr=function(a){a=a.currentPointer;this.b.ib().setPointer(a.viewportX,a.viewportY)};\nm.Fr=function(a){var b=a.currentPointer,c=this.b.getZoom(),d=a.currentPointer.type;this.On===this.b.ib().type&&(a=\"mouse\"===d?0===a.originalEvent.button?-1:1:0<a.pointers.length?1:-1,a=Math[0>a?\"ceil\":\"floor\"](c-a),this.ba&4&&this.zoom(c,a,b.viewportX,b.viewportY))};m.Er=function(a){return this.ba&4?(a.preventDefault(),!1):!0};\nm.e=function(){var a=this.b;a&&(a.draggable=!1,a.removeEventListener(\"dragstart\",this.dk,!1,this),a.removeEventListener(\"drag\",this.Gr,!1,this),a.removeEventListener(\"dragend\",this.Hr,!1,this),a.removeEventListener(\"wheel\",this.Kr,!1,this),a.removeEventListener(\"tap\",this.Jr,!1,this),a.removeEventListener(\"dbltap\",this.Fr,!1,this),a.removeEventListener(\"pointermove\",this.Wr,!1,this),this.b=null);this.Ze&&(this.Ze.style.msTouchAction=\"\",wg(this.Ze,\"contextmenu\",this.Er,!1,this),this.Ze=null);this.kb=\nthis.q=null;ij.splice(ij.indexOf(this.Cw),1);zb.prototype.e.call(this)};hj.prototype.dispose=hj.prototype.e;hj.prototype.disable=function(a){this.q.endInteraction(!0);a?this.ba&a&&(this.ba-=a,a&1&&(this.b.draggable=!1)):(this.ba=0,this.b.draggable=!1)};hj.prototype.disable=hj.prototype.disable;hj.prototype.enable=function(a){a?this.ba&a||(this.ba+=a,a&1&&(this.b.draggable=!0)):(this.ba=this.Qp,this.b.draggable=!0)};hj.prototype.enable=hj.prototype.enable;\nhj.prototype.isEnabled=function(a){if(isNaN(a))throw Error(\"behavior: number required\");return!!(this.ba&a)};hj.prototype.isEnabled=hj.prototype.isEnabled;r(\"H.mapevents.buildInfo\",function(){return wi(\"mapsjs-mapevents\",\"0.12.0\",\"e8be5d0\")});\n");